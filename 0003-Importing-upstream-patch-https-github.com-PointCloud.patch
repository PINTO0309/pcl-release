From 16c1341b9913b5d5af9f4e1cf4fbeca5c19efd38 Mon Sep 17 00:00:00 2001
From: William Woodall <william@osrfoundation.org>
Date: Fri, 12 Jul 2013 12:07:00 -0700
Subject: [PATCH 3/4] Importing upstream patch
 https://github.com/PointCloudLibrary/pcl/pull/187.diff

---
 .travis.yml                            | 2 +-
 doc/tutorials/content/building_pcl.rst | 2 +-
 test/CMakeLists.txt                    | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/.travis.yml b/.travis.yml
index 0196624..5abd127 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -9,4 +9,4 @@ before_install:
   - sudo apt-get install cmake libvtk5-qt4-dev libflann-dev libeigen3-dev libopenni-dev libqhull-dev libboost-filesystem1.53-dev libboost-iostreams1.53-dev libboost-thread1.53-dev
 script: 
   - mkdir build && cd build
-  - cmake -DCMAKE_C_FLAGS="-Wall -Wextra -Wabi -O2" -DCMAKE_CXX_FLAGS="-Wall -Wextra -Wabi -O2" -DPCL_ONLY_CORE_POINT_TYPES=ON .. && make -j2 && make test
+  - cmake -DBUILD_global_tests=ON -DCMAKE_C_FLAGS="-Wall -Wextra -Wabi -O2" -DCMAKE_CXX_FLAGS="-Wall -Wextra -Wabi -O2" -DPCL_ONLY_CORE_POINT_TYPES=ON .. && make -j2 && make test
diff --git a/doc/tutorials/content/building_pcl.rst b/doc/tutorials/content/building_pcl.rst
index fe6be3d..06d0f87 100644
--- a/doc/tutorials/content/building_pcl.rst
+++ b/doc/tutorials/content/building_pcl.rst
@@ -40,7 +40,7 @@ You should see something like the following on screen::
  BUILD_common                     ON
  BUILD_features                   ON
  BUILD_filters                    ON
- BUILD_global_tests               ON
+ BUILD_global_tests               OFF
  BUILD_io                         ON
  BUILD_kdtree                     ON
  BUILD_keypoints                  ON
diff --git a/test/CMakeLists.txt b/test/CMakeLists.txt
index 9667c25..6f7e3fd 100644
--- a/test/CMakeLists.txt
+++ b/test/CMakeLists.txt
@@ -9,7 +9,7 @@ else()
   set(SUBSYS_DEPS common sample_consensus io kdtree features filters geometry keypoints search surface registration segmentation octree recognition people outofcore)
 endif()
 
-set(DEFAULT ON)
+set(DEFAULT OFF)
 set(build TRUE)
 PCL_SUBSYS_OPTION(build ${SUBSYS_NAME} ${SUBSYS_DESC} ${DEFAULT} ${REASON})
 PCL_SUBSYS_DEPEND(build ${SUBSYS_NAME} DEPS ${SUBSYS_DEPS} OPT_DEPS ${OPT_DEPS})
-- 
1.7.12.4 (Apple Git-37)

